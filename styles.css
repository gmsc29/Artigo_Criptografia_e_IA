:root{
  --bg: #0b0c10;
  --card: #11131a;
  --text: #e9eef5;
  --muted: #aeb7c3;
  --brand: #6aa1ff;
  --brand-2: #9b7cff;
  --accent: #24d3ee;
  --ring: rgba(106,161,255,.35);
  --border: rgba(255,255,255,.08);
  --shadow: 0 20px 40px rgba(0,0,0,.35);
}
:root.light{
  --bg: #f6f7fb;
  --card: #ffffff;
  --text: #0f172a;
  --muted: #475569;
  --brand: #2153ff;
  --brand-2: #7a3cff;
  --accent: #0087b3;
  --ring: rgba(33,83,255,.2);
  --border: rgba(2, 6, 23, .08);
  --shadow: 0 10px 24px rgba(2,6,23,.09);
}
html { scroll-behavior:smooth }
body{
  margin:0; font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(1200px 600px at 10% -20%, rgba(106,161,255,.08), transparent 60%),
              radial-gradient(1000px 700px at 120% -10%, rgba(155,124,255,.08), transparent 60%),
              var(--bg);
  color:var(--text);
}
.container{ max-width: 1000px; margin: 0 auto; padding: 24px; }
header.site{
  position: sticky; top:0; backdrop-filter: blur(10px); z-index: 50;
  background: color-mix(in oklab, var(--bg) 80%, transparent);
  border-bottom:1px solid var(--border);
}
.nav{ display:flex; align-items:center; gap:16px; justify-content:space-between; }
.brand{ display:flex; align-items:center; gap:12px; font-weight:700; letter-spacing:.3px; }
.logo{ width:28px;height:28px; border-radius:8px; background:linear-gradient(135deg,var(--brand),var(--brand-2)); box-shadow: inset 0 0 0 1px rgba(255,255,255,.2);}
.actions{ display:flex; align-items:center; gap:10px }
.btn{ appearance:none; border:1px solid var(--border); background: color-mix(in oklab, var(--card) 92%, transparent); color:var(--text); padding:10px 14px; border-radius:12px; font-weight:600; cursor:pointer; box-shadow: var(--shadow);
  transition: transform .06s ease, border-color .2s ease, box-shadow .2s ease, background .2s ease; }
.btn:hover{ transform: translateY(-1px); border-color: var(--ring) }
.btn.primary{ border-color: color-mix(in oklab, var(--brand) 30%, var(--border)); background: linear-gradient(135deg, color-mix(in oklab, var(--brand) 16%, var(--card)), color-mix(in oklab, var(--brand-2) 8%, var(--card))); }
.progress{ position: absolute; inset: auto 0 0 0; height:3px; background: linear-gradient(90deg, var(--brand), var(--brand-2), var(--accent)); transform-origin: 0 50%; transform: scaleX(0); }

main.hero{ padding: 42px 0 8px; }
.card{
  background: linear-gradient(180deg, color-mix(in oklab, var(--card) 96%, transparent), color-mix(in oklab, var(--card) 92%, transparent));
  border:1px solid var(--border); border-radius: 18px; box-shadow: var(--shadow);
}
.hero-inner{ display:grid; grid-template-columns: 1fr; gap: 18px; padding: 28px; }
.title{ font-size: clamp(28px, 5.6vw, 44px); line-height: 1.15; letter-spacing:.2px; margin: 2px 0 8px; font-weight: 800 }
.subtitle{ color: var(--muted); margin-top:0; margin-bottom:16px }
.meta{ display:flex; flex-wrap: wrap; gap: 10px; align-items:center; color: var(--muted) }
.chip{ display:inline-flex; align-items:center; gap:8px; background: color-mix(in oklab, var(--brand) 8%, var(--card)); border:1px solid var(--border); padding:6px 10px; border-radius:999px; font-weight:600; }
.toc{
  position: sticky; top: 76px; align-self:start; border-left:2px solid var(--border); padding-left:16px; margin-left:4px;
}
.toc h3{ margin: 10px 0 6px; font-size:14px; letter-spacing:.2px; text-transform:uppercase; color: var(--muted) }
.toc a{ display:block; padding:6px 0; color: var(--muted); text-decoration:none; border-left: 2px solid transparent; padding-left:10px }
.toc a.active{ color: var(--text); border-left-color: var(--brand) }

.layout{ display:grid; grid-template-columns: 1fr; gap: 28px; }
@media (min-width: 1000px){ .layout{ grid-template-columns: 260px 1fr; } .hero-inner{ padding: 34px } }

article{ padding: 2px 6px 28px }
article h2{ font-size: clamp(22px,3.6vw,30px); margin: 28px 0 8px }
article h3{ font-size: clamp(18px,3.2vw,22px); margin: 22px 0 6px; color: var(--muted) }
article p{ margin: 10px 0; max-width: 75ch }
article a{ color: var(--brand); text-underline-offset: 2px }
.kbd{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background: color-mix(in oklab, var(--card) 88%, transparent); padding:.25em .5em; border-radius:8px; border:1px solid var(--border) }

.abstract{ background: linear-gradient(180deg, color-mix(in oklab, var(--brand) 6%, var(--card)), color-mix(in oklab, var(--brand-2) 4%, var(--card))); border:1px solid var(--border); padding:16px; border-radius:14px }
.keywords{ display:flex; flex-wrap:wrap; gap:8px; margin: 8px 0 }
.keyword{ background: color-mix(in oklab, var(--accent) 14%, var(--card)); border:1px solid var(--border); padding:6px 10px; border-radius:999px; font-weight:700; letter-spacing:.2px }

footer{ margin: 24px 0 56px; color: var(--muted) }
.footer-grid{ display:flex; flex-wrap: wrap; gap:14px; align-items:center; justify-content:space-between }

/* Anchor links */
.anchor-link{ opacity:0; margin-left:.25em; text-decoration:none; border-bottom:1px dotted transparent; transition: opacity .2s }
h2:hover .anchor-link, h3:hover .anchor-link{ opacity:1 }

/* Print */
@media print{
  header.site, .progress, .actions, .toc{ display:none !important }
  body{ background:#fff; color:#000 }
  .card{ box-shadow:none; border: none }
  .container{ max-width: none; }
}
